import{u as A}from"./index-506edf4d.js";import{_ as z,e as D,f as L,r as S,o as q,c as E,a as o,b as u,w as h,q as T,V as O,t as d,a7 as P,a8 as R,d as B,n as U,i as W,a9 as H,M as K,N as Q}from"./index-fcc907de.js";const Z=["src","alt"],j={class:"wallpaper-overlay"},G={class:"overlay-bottom"},J={class:"info-panel"},ee={class:"info-row stats-row"},te={class:"stats-item"},oe={class:"stats-item"},se={class:"stats-item"},ae={class:"info-row secondary-info"},ne={class:"info-item format"},le={class:"info-item size"},ie={class:"info-item resolution"},re={class:"info-row color-info"},ce={class:"info-item color-item"},de={class:"info-item category-item"},ue={__name:"WallpaperCard",props:{image:{type:Object,required:!0}},emits:["click"],setup(e,{emit:c}){const y=e,f=c,n=D(null);A();const m=()=>{f("click",y.image.id)},p=s=>{if(!n.value)return;const t=n.value,a=t.getBoundingClientRect(),l=s.clientX-a.left,b=s.clientY-a.top,i=(l/a.width-.5)*2,r=(b/a.height-.5)*2,k=18,Y=i*k,N=-r*k,V=80*(1-Math.abs(i)*Math.abs(r));t.style.transition="transform 0.05s ease-out",t.style.transform=`translateY(-22px) translateZ(${V}px) scale(1.08) rotateX(${N}deg) rotateY(${Y}deg)`;const _=t.querySelector(".card-glare");if(_){const I=50+i*40,X=50+r*40;_.style.background=`radial-gradient(circle at ${I}% ${X}%, rgba(255, 255, 255, 0.9) 0%, rgba(255, 255, 255, 0.5) 15%, rgba(255, 255, 255, 0) 60%)`,_.style.opacity="0.35"}const C=-i*35,$=-r*35,F=60-Math.abs(i*r)*15;t.style.boxShadow=`
    ${C}px ${30+$}px ${F}px rgba(0, 0, 0, 0.35), 
    ${C/2}px ${20+$/2}px 30px rgba(0, 0, 0, 0.28),
    0 0 0 1px rgba(255, 255, 255, 0.25) inset
  `;const w=t.querySelector("img");w&&(w.style.transition="transform 0.1s ease-out",w.style.transform=`scale(1.15) translate(${-i*18}px, ${-r*18}px)`);const x=t.querySelector(".info-panel");x&&(x.style.transition="transform 0.1s ease-out",x.style.transform=`translate(${i*8}px, ${r*8}px)`)},g=()=>{if(!n.value)return;const s=n.value;s.style.transition="all 0.8s cubic-bezier(0.165, 0.84, 0.44, 1)",s.style.transform="translateY(-15px) scale(1) rotateX(0deg) rotateY(0deg)",s.style.boxShadow=`
    0 18px 30px rgba(0, 0, 0, 0.2), 
    0 12px 15px rgba(0, 0, 0, 0.15),
    0 0 0 1px rgba(255, 255, 255, 0.12) inset
  `;const t=s.querySelector(".card-glare");t&&(t.style.opacity="0");const a=s.querySelector("img");a&&(a.style.transition="transform 0.8s cubic-bezier(0.165, 0.84, 0.44, 1)",a.style.transform="scale(1)");const l=s.querySelector(".info-panel");l&&(l.style.transition="transform 0.8s cubic-bezier(0.165, 0.84, 0.44, 1)",l.style.transform="translate(0, 0)"),setTimeout(()=>{s&&(s.style.transition="all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1)",a&&(a.style.transition="transform 0.5s cubic-bezier(0.165, 0.84, 0.44, 1)"),l&&(l.style.transition="transform 0.4s cubic-bezier(0.165, 0.84, 0.44, 1)"))},800)},v=s=>{s.target.src="@/common/assets/image-placeholder.png"},M=s=>{if(!s)return"0 KB";const t=parseInt(s);return t<1024?t+" B":t<1024*1024?(t/1024).toFixed(1)+" KB":(t/(1024*1024)).toFixed(1)+" MB"};return L(()=>{if(n.value){const s=n.value.querySelector("img");s&&(s.style.transformOrigin="center center")}}),(s,t)=>{var l,b,i,r;const a=S("el-icon");return q(),E("div",{class:"wallpaper-card",onClick:m,onMousemove:p,onMouseleave:g,ref_key:"cardRef",ref:n},[o("div",{class:W(["wallpaper-image",{"is-mobile":!e.image.isLandscape}])},[o("img",{src:e.image.url,alt:e.image.originalName,loading:"lazy",onError:v},null,40,Z),o("div",j,[o("div",G,[o("div",J,[o("div",ee,[o("div",te,[u(a,null,{default:h(()=>[u(T(O))]),_:1}),o("span",null,d(((l=e.image.statistics)==null?void 0:l.downloadCount)||0),1)]),o("div",oe,[u(a,null,{default:h(()=>[u(T(P))]),_:1}),o("span",null,d(((b=e.image.statistics)==null?void 0:b.viewCount)||0),1)]),o("div",se,[u(a,null,{default:h(()=>[u(T(R))]),_:1}),o("span",null,d(((i=e.image.statistics)==null?void 0:i.likeCount)||0),1)])]),o("div",ae,[o("div",ne,"æ ¼å¼: "+d(e.image.format),1),o("div",le,"å¤§å°: "+d(M(e.image.fileSize)),1),o("div",ie,"åˆ†è¾¨çŽ‡: "+d(e.image.width)+"Ã—"+d(e.image.height),1)]),o("div",re,[o("div",ce,[t[0]||(t[0]=B(" ä¸»è‰²è°ƒ: ")),o("span",{class:"color-chip",style:U({backgroundColor:e.image.dominantColor})},null,4),o("span",null,d(e.image.dominantColor),1)]),o("div",de,[t[1]||(t[1]=B(" åˆ†ç±»: ")),o("span",null,d(((r=e.image.categories[0])==null?void 0:r.name)||"æœªåˆ†ç±»"),1)])])])])]),t[2]||(t[2]=o("div",{class:"card-glare"},null,-1))],2)],544)}}},ye=z(ue,[["__scopeId","data-v-64b71da1"]]);const me={name:"BackToTop",components:{ArrowUp:H},props:{scrollDuration:{type:Number,default:500},visibilityHeight:{type:Number,default:200}},data(){return{isVisible:!1}},methods:{handleScroll(){const e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;this.isVisible=e>this.visibilityHeight},backToTop(){console.log("BackToTop.vue: è¿”å›žé¡¶éƒ¨æŒ‰é’®è¢«ç‚¹å‡»");const e=document.documentElement.scrollTop||document.body.scrollTop;if(e>0)try{window.scrollTo({top:0,behavior:"smooth"});const c=this.scrollDuration,y=performance.now(),f=n=>{const m=n-y;if(m<c){const p=this.easeInOutQuad(m/c),g=e*(1-p);document.documentElement.scrollTop=document.body.scrollTop=g,window.requestAnimationFrame(f)}else document.documentElement.scrollTop=document.body.scrollTop=0};window.requestAnimationFrame(f)}catch(c){console.error("å¹³æ»‘æ»šåŠ¨å¤±è´¥ï¼Œä½¿ç”¨ç›´æŽ¥è·³è½¬",c),document.documentElement.scrollTop=document.body.scrollTop=0}},easeInOutQuad(e){return e<.5?2*e*e:-1+(4-2*e)*e}},mounted(){console.log("BackToTop.vue: mounted() called."),typeof this.handleScroll=="function"&&(window.addEventListener("scroll",this.handleScroll,!0),this.handleScroll())},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll,!0)},beforeDestroy(){window.removeEventListener("scroll",this.handleScroll,!0)}};function fe(e,c,y,f,n,m){const p=S("ArrowUp"),g=S("el-icon");return K((q(),E("div",{class:"back-to-top",onClick:c[0]||(c[0]=(...v)=>m.backToTop&&m.backToTop(...v))},[u(g,{size:20},{default:h(()=>[u(p)]),_:1})],512)),[[Q,n.isVisible]])}const be=z(me,[["render",fe],["__scopeId","data-v-1cc5750b"]]);export{be as B,ye as W};